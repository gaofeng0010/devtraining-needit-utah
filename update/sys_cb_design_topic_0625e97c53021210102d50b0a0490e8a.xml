<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__7642e7fb847d49edb6ff110b6df27c99">4625e97c53021210102d50b0a0490e81</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"c13d6567c7234842945ff7b10e67d9f6","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"c13d6567c7234842945ff7b10e67d9f6"}],"goals":[{"name":"primary","trigger_id":"c13d6567c7234842945ff7b10e67d9f6","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"test-gf what is your name?\", vaContext.getRequesterLang())"},"id":"7f1fbae6cc3d42c293154debfccbbc49","name":"Start","expert_mode":false},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"希望能帮到您！\", vaContext.getRequesterLang())"},"id":"9e2674e3c4ac4a08823c83a2ccc1a4cd","name":"End","expert_mode":false},{"type":"InputPrompt","variable_id":"03d9b65e84154058b59a18f501f4966a","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"请输入您的问题？\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":true,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"05c2c304b01d4bc9938b225904a6b170","name":"input","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"formatType":"Text","validationScript":"","description":""},{"type":"ChoiceInputPrompt","expression_mode":"simple","metadataScript":"","cardName":"","cardFields":[],"id":"bca549e052cb453bab0ecd336b89b3a8","name":"data list","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"variable_id":"559fce3f5e7343d9805e325b4044a19e","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"请选择你要问的数据库？\", vaContext.getRequesterLang())"},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"description":""},{"type":"TextOutputPrompt","value":[{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessageLang(\"hi there {0}\", vaContext.getRequesterLang(), [vaInputs.first_name]);\n       } else {\n           return gs.getMessageLang(\"how are you {0}\", vaContext.getRequesterLang(), [vaInputs.last_name]);\n       }\n    */\n    var data = vaInputs.data_list;\n    var answer = vaInputs.input;\n    //调用外部接口查询\n    var result = \"result\";\n    return 'data:' + data + ',answer:' + answer + ',result:' + result;\n})()\n"}],"request_feedback":true,"id":"468b90ce3b5a4c15b9c1064307390d1d","name":"out","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"secure":false},{"type":"InputPrompt","variable_id":"011f4190559f4639962e4aa674264175","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"是否继续提问？\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"request_feedback":false,"skippable":{"type":"Applicability","mode":"script","value":"false"},"skipreprompt":{"type":"Applicability","mode":"script","value":"false"},"id":"6e990f10e3ec497fba79102e0ac4312a","name":"continuePlay","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"expert_mode":false,"description":""},{"type":"Decision","name":"yesOrNo","branches":[{"type":"Branch","label":"继续提问","expression":{"type":"Applicability","mode":"query","value":"continueplay=true"},"id":"f3c529005d9d4622b15d7e39f86355a3","name":"继续提问","expert_mode":false},{"type":"Branch","label":"我问完了","expression":{"type":"Applicability","mode":"query","value":"continueplay="},"id":"1bfbc678d11647aea3b9fc852c201aa2","name":"我问完了","expert_mode":false}],"id":"351b5a0f17e2419596f6ecaf6b57dff7","goal_id":"primary","expert_mode":false}],"edges":[{"type":"Edge","source_node_id":"351b5a0f17e2419596f6ecaf6b57dff7","target_node_id":"bca549e052cb453bab0ecd336b89b3a8","branch_id":"f3c529005d9d4622b15d7e39f86355a3","id":"6924dcf2895d491592dd58accf5e5c73","name":"f3c529005d9d4622b15d7e39f86355a3"},{"type":"Edge","source_node_id":"351b5a0f17e2419596f6ecaf6b57dff7","target_node_id":"9e2674e3c4ac4a08823c83a2ccc1a4cd","branch_id":"1bfbc678d11647aea3b9fc852c201aa2","id":"23aa367517bc4dd0b35ab6c05679ca24","name":"1bfbc678d11647aea3b9fc852c201aa2"},{"type":"Edge","source_node_id":"7f1fbae6cc3d42c293154debfccbbc49","target_node_id":"bca549e052cb453bab0ecd336b89b3a8","id":"df6fbb66f814459ab0495437743c7f24"},{"type":"Edge","source_node_id":"bca549e052cb453bab0ecd336b89b3a8","target_node_id":"05c2c304b01d4bc9938b225904a6b170","id":"a9e73d62a1c2454f84be985f5635a20f"},{"type":"Edge","source_node_id":"05c2c304b01d4bc9938b225904a6b170","target_node_id":"468b90ce3b5a4c15b9c1064307390d1d","id":"eed1c545d6c5439f99d769b7f92028dd"},{"type":"Edge","source_node_id":"468b90ce3b5a4c15b9c1064307390d1d","target_node_id":"6e990f10e3ec497fba79102e0ac4312a","id":"4be044de29994677870651eb0fc777a2"},{"type":"Edge","source_node_id":"6e990f10e3ec497fba79102e0ac4312a","target_node_id":"351b5a0f17e2419596f6ecaf6b57dff7","id":"26e9fe50414c483e8ad2eab96e26c508"}],"id":"primary"}],"script_variables":[{"type":"String","name":"LiveAgent_application","value":{"type":"String","mode":"string"},"list":false,"id":"b24d67ee20f2473eb741574b43d6dfd0","formatType":"text","secure":false,"sensitive":false,"aiInput":false}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false},{"type":"String","name":"input","list":false,"id":"03d9b65e84154058b59a18f501f4966a","formatType":"Text","validationScript":"","secure":false,"sensitive":false,"aiInput":false},{"type":"Choice","choices":[{"name":"knowledge1","element":"knowledge1"},{"name":"knowledge2","element":"knowledge2"},{"name":"knowledge3","element":"knowledge3"}],"id":"559fce3f5e7343d9805e325b4044a19e","name":"data_list","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false,"label":"Data List"},{"type":"True/False","id":"011f4190559f4639962e4aa674264175","name":"continueplay","formatType":"text","secure":false,"sensitive":false,"aiInput":false,"list":false}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"6ead8e780f603200cd674f8ce1050ed1","domain":"global","topic_type":"STANDARD","channels":[],"dialog_acts_enabled":false,"id":"e87d1c6c53021210102d50b0a0490e6b","name":"_PRVW__7642e7fb847d49edb6ff110b6df27c99","key_phrases":["test-gf","test1"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"autopilot_topic":false,"design_categories":[{"name":null,"visible":false,"sysId":"a9ac54ec53021210102d50b0a0490ea0"}],"triggerable_by_notification":false,"model_type":"nlu_keyword","foundational":false,"modify_confirmation_enabled":false,"context_profiles":[],"title":"test-gf","library":false,"csTopicId":"4690ac2453421210102d50b0a0490e6a","readOnly":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>e87d1c6c53021210102d50b0a0490e6b</design_topic_id>
        <graph>{
  "graph_api_version": "1.0.68",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "7f1fbae6cc3d42c293154debfccbbc49": {
          "id": "7f1fbae6cc3d42c293154debfccbbc49",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "test-gf what is your name?"
                  }
                ]
              }
            ],
            "mode": "simple"
          }
        },
        "9e2674e3c4ac4a08823c83a2ccc1a4cd": {
          "id": "9e2674e3c4ac4a08823c83a2ccc1a4cd",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "希望能帮到您！"
                  }
                ]
              }
            ],
            "mode": "simple"
          }
        },
        "05c2c304b01d4bc9938b225904a6b170": {
          "id": "05c2c304b01d4bc9938b225904a6b170",
          "stepType": "TextPrompt",
          "name": "input",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "请输入您的问题？"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "03d9b65e84154058b59a18f501f4966a",
          "detailDescription": "",
          "inputType": {
            "format": "Text",
            "script": ""
          },
          "requestFeedback": true
        },
        "bca549e052cb453bab0ecd336b89b3a8": {
          "name": "data list",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "请选择你要问的数据库？"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "559fce3f5e7343d9805e325b4044a19e",
          "detailDescription": "",
          "id": "bca549e052cb453bab0ecd336b89b3a8",
          "stepType": "ChoicePrompt",
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "468b90ce3b5a4c15b9c1064307390d1d": {
          "id": "468b90ce3b5a4c15b9c1064307390d1d",
          "stepType": "TextOutput",
          "name": "out",
          "secure": false,
          "value": [
            {
              "value": "(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessageLang(\"hi there {0}\", vaContext.getRequesterLang(), [vaInputs.first_name]);\n       } else {\n           return gs.getMessageLang(\"how are you {0}\", vaContext.getRequesterLang(), [vaInputs.last_name]);\n       }\n    */\n    var data = vaInputs.data_list;\n    var answer = vaInputs.input;\n    //调用外部接口查询\n    var result = \"result\";\n    return 'data:' + data + ',answer:' + answer + ',result:' + result;\n})()\n",
              "mode": "script"
            }
          ],
          "requestFeedback": true,
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "6e990f10e3ec497fba79102e0ac4312a": {
          "id": "6e990f10e3ec497fba79102e0ac4312a",
          "stepType": "BooleanPrompt",
          "name": "continuePlay",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "是否继续提问？"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "skipReprompt": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "011f4190559f4639962e4aa674264175",
          "detailDescription": ""
        },
        "351b5a0f17e2419596f6ecaf6b57dff7": {
          "id": "351b5a0f17e2419596f6ecaf6b57dff7",
          "stepType": "Decision",
          "name": "yesOrNo"
        }
      },
      "edges": [
        {
          "id": "6924dcf2895d491592dd58accf5e5c73",
          "edgeType": "Branch",
          "source": "351b5a0f17e2419596f6ecaf6b57dff7",
          "target": "bca549e052cb453bab0ecd336b89b3a8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.continueplay=true",
            "mode": "query"
          },
          "label": "继续提问"
        },
        {
          "id": "23aa367517bc4dd0b35ab6c05679ca24",
          "edgeType": "Branch",
          "source": "351b5a0f17e2419596f6ecaf6b57dff7",
          "target": "9e2674e3c4ac4a08823c83a2ccc1a4cd",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.continueplay=",
            "mode": "query"
          },
          "label": "我问完了"
        },
        {
          "id": "df6fbb66f814459ab0495437743c7f24",
          "edgeType": "Edge",
          "source": "7f1fbae6cc3d42c293154debfccbbc49",
          "target": "bca549e052cb453bab0ecd336b89b3a8",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "a9e73d62a1c2454f84be985f5635a20f",
          "edgeType": "Edge",
          "source": "bca549e052cb453bab0ecd336b89b3a8",
          "target": "05c2c304b01d4bc9938b225904a6b170",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "eed1c545d6c5439f99d769b7f92028dd",
          "edgeType": "Edge",
          "source": "05c2c304b01d4bc9938b225904a6b170",
          "target": "468b90ce3b5a4c15b9c1064307390d1d",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "4be044de29994677870651eb0fc777a2",
          "edgeType": "Edge",
          "source": "468b90ce3b5a4c15b9c1064307390d1d",
          "target": "6e990f10e3ec497fba79102e0ac4312a",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "26e9fe50414c483e8ad2eab96e26c508",
          "edgeType": "Edge",
          "source": "6e990f10e3ec497fba79102e0ac4312a",
          "target": "351b5a0f17e2419596f6ecaf6b57dff7",
          "sourcePort": "",
          "targetPort": ""
        }
      ]
    }
  },
  "variables": {
    "b24d67ee20f2473eb741574b43d6dfd0": {
      "id": "b24d67ee20f2473eb741574b43d6dfd0",
      "name": "LiveAgent_application",
      "value": {
        "mode": "simple",
        "value": null
      },
      "varType": "script",
      "category": "vaVars"
    },
    "current-user": {
      "category": "vaInputs",
      "id": "current-user",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "03d9b65e84154058b59a18f501f4966a": {
      "id": "03d9b65e84154058b59a18f501f4966a",
      "name": "input",
      "label": "Input",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTczMjA5NzE5Mjg1OCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "nodeId": "05c2c304b01d4bc9938b225904a6b170",
      "isHidden": false
    },
    "559fce3f5e7343d9805e325b4044a19e": {
      "id": "559fce3f5e7343d9805e325b4044a19e",
      "name": "data_list",
      "label": "Data List",
      "varType": "choice",
      "choices": [
        {
          "label": "knowledge1",
          "value": "knowledge1"
        },
        {
          "label": "knowledge2",
          "value": "knowledge2"
        },
        {
          "label": "knowledge3",
          "value": "knowledge3",
          "checked": true,
          "meta": {}
        }
      ],
      "category": "vaInputs",
      "nodeId": "bca549e052cb453bab0ecd336b89b3a8",
      "isHidden": false
    },
    "011f4190559f4639962e4aa674264175": {
      "id": "011f4190559f4639962e4aa674264175",
      "name": "continueplay",
      "label": "ContinuePlay",
      "varType": "boolean",
      "secure": false,
      "category": "vaInputs",
      "nodeId": "6e990f10e3ec497fba79102e0ac4312a",
      "isHidden": false
    }
  }
}</graph>
        <name>_PRVW__7642e7fb847d49edb6ff110b6df27c99</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-11-21 02:01:49</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>0625e97c53021210102d50b0a0490e8a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_0625e97c53021210102d50b0a0490e8a</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-11-21 02:01:49</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
